{"version":3,"file":"loader.min.js","sources":["../src/loader.js"],"sourcesContent":["/**\n * YouTube 2-Click loader (DEBUG).\n */\ndefine([], function () {\n  let bound = false;\n\n  /**\n   * Initialise the click handler for YouTube 2-click placeholders.\n   */\n  function init() {\n    console.log(\"[youtube2click] init() called\");\n\n    if (bound) {\n      console.log(\"[youtube2click] already bound, skipping\");\n      return;\n    }\n    bound = true;\n\n    document.addEventListener(\"click\", function (e) {\n      console.log(\"[youtube2click] document click detected\");\n\n      const btn = e.target.closest(\".youtube2click-load\");\n      if (!btn) {\n        return;\n      }\n\n      console.log(\"[youtube2click] load button clicked\");\n\n      e.preventDefault();\n\n      const wrapper = btn.closest(\".youtube2click-placeholder\");\n      if (!wrapper) {\n        console.log(\"[youtube2click] no wrapper found\");\n        return;\n      }\n\n      const videoId = wrapper.getAttribute(\"data-videoid\");\n      console.log(\"[youtube2click] videoId:\", videoId);\n\n      const iframe = document.createElement(\"iframe\");\n      iframe.setAttribute(\"src\", \"https://www.youtube.com/embed/\" + videoId);\n      iframe.setAttribute(\"frameborder\", \"0\");\n      iframe.setAttribute(\"allowfullscreen\", \"1\");\n      iframe.style.width = \"100%\";\n      iframe.style.height = \"400px\";\n\n      wrapper.replaceWith(iframe);\n      console.log(\"[youtube2click] iframe inserted\");\n    });\n  }\n\n  console.log(\"[youtube2click] module loaded\");\n\n  return {\n    init: init,\n  };\n});\n"],"names":["define","bound","console","log","init","document","addEventListener","e","btn","target","closest","preventDefault","wrapper","videoId","getAttribute","iframe","createElement","setAttribute","style","width","height","replaceWith"],"mappings":"AAGAA,qCAAO,IAAI,eACLC,OAAQ,SA+CZC,QAAQC,IAAI,iCAEL,CACLC,gBA5CAF,QAAQC,IAAI,iCAERF,MACFC,QAAQC,IAAI,4CAGdF,OAAQ,EAERI,SAASC,iBAAiB,SAAS,SAAUC,GAC3CL,QAAQC,IAAI,iDAENK,IAAMD,EAAEE,OAAOC,QAAQ,2BACxBF,WAILN,QAAQC,IAAI,uCAEZI,EAAEI,uBAEIC,QAAUJ,IAAIE,QAAQ,kCACvBE,oBACHV,QAAQC,IAAI,0CAIRU,QAAUD,QAAQE,aAAa,gBACrCZ,QAAQC,IAAI,2BAA4BU,eAElCE,OAASV,SAASW,cAAc,UACtCD,OAAOE,aAAa,MAAO,iCAAmCJ,SAC9DE,OAAOE,aAAa,cAAe,KACnCF,OAAOE,aAAa,kBAAmB,KACvCF,OAAOG,MAAMC,MAAQ,OACrBJ,OAAOG,MAAME,OAAS,QAEtBR,QAAQS,YAAYN,QACpBb,QAAQC,IAAI"}