{"version":3,"file":"loader.min.js","sources":["../src/loader.js"],"sourcesContent":["define([], function () {\n  function init() {\n    // Nur einmal binden (Sicherheitsnetz)\n    console.log(\"youtube2click init called\"); // <-- DEBUG\n    // ...\n    if (window.__youtube2clickBound) {\n      return;\n    }\n    window.__youtube2clickBound = true;\n\n    document.addEventListener(\"click\", function (e) {\n      const btn = e.target.closest(\".youtube2click-load\");\n      if (!btn) {\n        return;\n      }\n\n      e.preventDefault();\n\n      const wrapper = btn.closest(\".youtube2click-placeholder\");\n      if (!wrapper) {\n        return;\n      }\n\n      const videoId = wrapper.getAttribute(\"data-videoid\");\n\n      const iframe = document.createElement(\"iframe\");\n      iframe.setAttribute(\"src\", \"https://www.youtube.com/embed/\" + videoId);\n      iframe.setAttribute(\"frameborder\", \"0\");\n      iframe.setAttribute(\"allowfullscreen\", \"1\");\n      iframe.style.width = \"100%\";\n      iframe.style.height = \"400px\";\n\n      wrapper.replaceWith(iframe);\n    });\n  }\n\n  // ðŸ”¥ WICHTIG: Sofort initialisieren, sobald das Modul geladen wird\n  init();\n\n  // Und zusÃ¤tzlich exportieren (falls Moodle es doch noch explizit aufruft)\n  return {\n    init: init,\n  };\n});\n"],"names":["define","init","console","log","window","__youtube2clickBound","document","addEventListener","e","btn","target","closest","preventDefault","wrapper","videoId","getAttribute","iframe","createElement","setAttribute","style","width","height","replaceWith"],"mappings":"AAAAA,qCAAO,IAAI,oBACAC,OAEPC,QAAQC,IAAI,6BAERC,OAAOC,uBAGXD,OAAOC,sBAAuB,EAE9BC,SAASC,iBAAiB,SAAS,SAAUC,SACrCC,IAAMD,EAAEE,OAAOC,QAAQ,2BACxBF,WAILD,EAAEI,uBAEIC,QAAUJ,IAAIE,QAAQ,kCACvBE,qBAICC,QAAUD,QAAQE,aAAa,gBAE/BC,OAASV,SAASW,cAAc,UACtCD,OAAOE,aAAa,MAAO,iCAAmCJ,SAC9DE,OAAOE,aAAa,cAAe,KACnCF,OAAOE,aAAa,kBAAmB,KACvCF,OAAOG,MAAMC,MAAQ,OACrBJ,OAAOG,MAAME,OAAS,QAEtBR,QAAQS,YAAYN,mBAKxBf,OAGO,CACLA,KAAMA"}